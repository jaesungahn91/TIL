<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0206 ~ 0226 | ahnjs TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="manifest" href="/TIL/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="Today I Learned">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.c9ce91a1.css" as="style"><link rel="preload" href="/TIL/assets/js/app.5fb46d7a.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Layout.1c8ba735.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.2212e50f.js" as="script"><link rel="preload" href="/TIL/assets/js/page-0206~0226.5da382f5.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Blog~layout-Layout.e5523903.js" as="script"><link rel="prefetch" href="/TIL/assets/js/103.8c089b22.js"><link rel="prefetch" href="/TIL/assets/js/104.119134a5.js"><link rel="prefetch" href="/TIL/assets/js/layout-Blog.a086a7ca.js"><link rel="prefetch" href="/TIL/assets/js/layout-Layout.0945805f.js"><link rel="prefetch" href="/TIL/assets/js/layout-NotFound.9e898f41.js"><link rel="prefetch" href="/TIL/assets/js/layout-Slide.f940a7a7.js"><link rel="prefetch" href="/TIL/assets/js/page-0102-0109.d861648d.js"><link rel="prefetch" href="/TIL/assets/js/page-0102~0108.3f3ff8b4.js"><link rel="prefetch" href="/TIL/assets/js/page-0109~0115.4c6b192d.js"><link rel="prefetch" href="/TIL/assets/js/page-0110-0116.feb84c5b.js"><link rel="prefetch" href="/TIL/assets/js/page-0116~0129.d55b06ca.js"><link rel="prefetch" href="/TIL/assets/js/page-0117-0123.7a6dce2f.js"><link rel="prefetch" href="/TIL/assets/js/page-0124-0206.ee32f254.js"><link rel="prefetch" href="/TIL/assets/js/page-0130~0205.df7a6a64.js"><link rel="prefetch" href="/TIL/assets/js/page-0211-0220.cd9bd482.js"><link rel="prefetch" href="/TIL/assets/js/page-0217-0221.1ed564ea.js"><link rel="prefetch" href="/TIL/assets/js/page-0221-0227.40b291d8.js"><link rel="prefetch" href="/TIL/assets/js/page-0222-0229.c4aa2b4d.js"><link rel="prefetch" href="/TIL/assets/js/page-0227~0305.164780e1.js"><link rel="prefetch" href="/TIL/assets/js/page-0228-0313.960c5eb2.js"><link rel="prefetch" href="/TIL/assets/js/page-0301-0307.8a2dd769.js"><link rel="prefetch" href="/TIL/assets/js/page-0306~0319.d7e1dd39.js"><link rel="prefetch" href="/TIL/assets/js/page-0308-0314.95d08be9.js"><link rel="prefetch" href="/TIL/assets/js/page-0314-0320.a482c7e8.js"><link rel="prefetch" href="/TIL/assets/js/page-0315-0321.0bf22c5a.js"><link rel="prefetch" href="/TIL/assets/js/page-0320~0402.dc9cbbee.js"><link rel="prefetch" href="/TIL/assets/js/page-0321-0328.536bc991.js"><link rel="prefetch" href="/TIL/assets/js/page-0322-0328.5002c0f8.js"><link rel="prefetch" href="/TIL/assets/js/page-0329-0404.c6f98895.js"><link rel="prefetch" href="/TIL/assets/js/page-0329~0403.5b50aeae.js"><link rel="prefetch" href="/TIL/assets/js/page-0403~0423.db8f2eb4.js"><link rel="prefetch" href="/TIL/assets/js/page-0404~0410.6dd2170c.js"><link rel="prefetch" href="/TIL/assets/js/page-0405-0411.dfef4290.js"><link rel="prefetch" href="/TIL/assets/js/page-0411~0417.31e79aa4.js"><link rel="prefetch" href="/TIL/assets/js/page-0412-0418.aab597de.js"><link rel="prefetch" href="/TIL/assets/js/page-0418~0424.acb47103.js"><link rel="prefetch" href="/TIL/assets/js/page-0419-0425.bc1c1f3f.js"><link rel="prefetch" href="/TIL/assets/js/page-0425~0501.63985992.js"><link rel="prefetch" href="/TIL/assets/js/page-0426-0502.d7a75a07.js"><link rel="prefetch" href="/TIL/assets/js/page-0502~0515.21ce942d.js"><link rel="prefetch" href="/TIL/assets/js/page-0503-0509.fb0660a5.js"><link rel="prefetch" href="/TIL/assets/js/page-0510-0516.00f7a787.js"><link rel="prefetch" href="/TIL/assets/js/page-0516~0529.c375a6ba.js"><link rel="prefetch" href="/TIL/assets/js/page-0517-0523.b1aa4a22.js"><link rel="prefetch" href="/TIL/assets/js/page-0523~0605.6e7cab56.js"><link rel="prefetch" href="/TIL/assets/js/page-0524-0530.8c92fe4f.js"><link rel="prefetch" href="/TIL/assets/js/page-0531-0606.e40cfd3f.js"><link rel="prefetch" href="/TIL/assets/js/page-0606~0619.b2a4a63a.js"><link rel="prefetch" href="/TIL/assets/js/page-0607-0613.b7eaa930.js"><link rel="prefetch" href="/TIL/assets/js/page-0612.6d4d2838.js"><link rel="prefetch" href="/TIL/assets/js/page-0613.dfd2eb79.js"><link rel="prefetch" href="/TIL/assets/js/page-0614-0620.8c3b6db2.js"><link rel="prefetch" href="/TIL/assets/js/page-0614.c29fe08f.js"><link rel="prefetch" href="/TIL/assets/js/page-0621-0627.8b7cfba5.js"><link rel="prefetch" href="/TIL/assets/js/page-0627~0703.32c82c88.js"><link rel="prefetch" href="/TIL/assets/js/page-0628-0704.a12f4dd5.js"><link rel="prefetch" href="/TIL/assets/js/page-0705-0808.84dfa0c2.js"><link rel="prefetch" href="/TIL/assets/js/page-0711~0717.c1d09532.js"><link rel="prefetch" href="/TIL/assets/js/page-0718~0724.28a7589f.js"><link rel="prefetch" href="/TIL/assets/js/page-0725~0807.ef50582d.js"><link rel="prefetch" href="/TIL/assets/js/page-0807~0902.96994631.js"><link rel="prefetch" href="/TIL/assets/js/page-0808~0814.d656f648.js"><link rel="prefetch" href="/TIL/assets/js/page-0809-0815.348cc1c5.js"><link rel="prefetch" href="/TIL/assets/js/page-0815~0824.df5c5da0.js"><link rel="prefetch" href="/TIL/assets/js/page-0816-0822.87a87566.js"><link rel="prefetch" href="/TIL/assets/js/page-0822~0911.4867b37a.js"><link rel="prefetch" href="/TIL/assets/js/page-0823-0829.8bcfd48b.js"><link rel="prefetch" href="/TIL/assets/js/page-0830-0905.8b54a9e8.js"><link rel="prefetch" href="/TIL/assets/js/page-0903~0910.f917d595.js"><link rel="prefetch" href="/TIL/assets/js/page-0906-0919.a1897d51.js"><link rel="prefetch" href="/TIL/assets/js/page-0911~0918.7dfbe6de.js"><link rel="prefetch" href="/TIL/assets/js/page-0912~0918.274ce7a6.js"><link rel="prefetch" href="/TIL/assets/js/page-0919~0925.e25dd9ff.js"><link rel="prefetch" href="/TIL/assets/js/page-0920-0926.22e5547a.js"><link rel="prefetch" href="/TIL/assets/js/page-0926~1002.d97a33b4.js"><link rel="prefetch" href="/TIL/assets/js/page-0927-1003.cd544f10.js"><link rel="prefetch" href="/TIL/assets/js/page-1003~1009.b12a6f87.js"><link rel="prefetch" href="/TIL/assets/js/page-1004-1010.92ee8f8e.js"><link rel="prefetch" href="/TIL/assets/js/page-1010~1016.00b69211.js"><link rel="prefetch" href="/TIL/assets/js/page-1011-1017.c314b6aa.js"><link rel="prefetch" href="/TIL/assets/js/page-1017~1030.03e8572f.js"><link rel="prefetch" href="/TIL/assets/js/page-1018-1024.35384747.js"><link rel="prefetch" href="/TIL/assets/js/page-1025-1031.e5a2aad2.js"><link rel="prefetch" href="/TIL/assets/js/page-1031~1113.813912c9.js"><link rel="prefetch" href="/TIL/assets/js/page-1101-1107.e08121f1.js"><link rel="prefetch" href="/TIL/assets/js/page-1108-1114.14c10b7a.js"><link rel="prefetch" href="/TIL/assets/js/page-1113~1109.6ffeae7e.js"><link rel="prefetch" href="/TIL/assets/js/page-1114~1127.edbc49cd.js"><link rel="prefetch" href="/TIL/assets/js/page-1115-1124.248147ec.js"><link rel="prefetch" href="/TIL/assets/js/page-1122-1128.de82e713.js"><link rel="prefetch" href="/TIL/assets/js/page-1128~1211.ca0d6242.js"><link rel="prefetch" href="/TIL/assets/js/page-1129-1205.57233094.js"><link rel="prefetch" href="/TIL/assets/js/page-1204~1217.bfef77e0.js"><link rel="prefetch" href="/TIL/assets/js/page-1206-1212.100e1893.js"><link rel="prefetch" href="/TIL/assets/js/page-1212~0101.031e14d3.js"><link rel="prefetch" href="/TIL/assets/js/page-1213-1219.0e09712c.js"><link rel="prefetch" href="/TIL/assets/js/page-1220-1226.4cb62ec6.js"><link rel="prefetch" href="/TIL/assets/js/page-📖TodayILearned.7bda0772.js"><link rel="prefetch" href="/TIL/assets/js/vendors~photo-swipe.7980dd4b.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.c9ce91a1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/TIL/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">ahnjs TIL</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">2023</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/2023/0102/" class="sidebar-link">0102 ~ 0108</a></li><li><a href="/TIL/2023/0109/" class="sidebar-link">0109 ~ 0115</a></li><li><a href="/TIL/2023/0116/" class="sidebar-link">0116 ~ 0129</a></li><li><a href="/TIL/2023/0130/" class="sidebar-link">0130 ~ 0205</a></li><li><a href="/TIL/2023/0206/" aria-current="page" class="active sidebar-link">0206 ~ 0226</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#_0214-thread-dump와-heap-dump" class="sidebar-link">0214 - Thread dump와 Heap dump</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#thread-dump" class="sidebar-link heading3">Thread Dump</a></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#heap-dump" class="sidebar-link heading3">Heap Dump</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#_0222-transient" class="sidebar-link">0222 - @Transient</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#transient-이해" class="sidebar-link heading3">@Transient 이해</a></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#transient-간단한-예시와-사용법" class="sidebar-link heading3">@Transient 간단한 예시와 사용법</a></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#메서드-필드-방식을-지원하는-jpa-애노테이션의-주의사항" class="sidebar-link heading3">메서드/필드 방식을 지원하는 JPA 애노테이션의 주의사항</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#_0224-instant-vs-localdatetime" class="sidebar-link">0224 - Instant vs LocalDateTime</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#instant" class="sidebar-link heading3">Instant</a></li><li class="sidebar-sub-header"><a href="/TIL/2023/0206/#localdatetime" class="sidebar-link heading3">LocalDateTime</a></li></ul></li></ul></li><li><a href="/TIL/2023/0227/" class="sidebar-link">0227 ~ 0305</a></li><li><a href="/TIL/2023/0306/" class="sidebar-link">0306 ~ 0319</a></li><li><a href="/TIL/2023/0320/" class="sidebar-link">0320 ~ 0402</a></li><li><a href="/TIL/2023/0403/" class="sidebar-link">0403 ~ 0423</a></li><li><a href="/TIL/2023/0612/" class="sidebar-link">0612</a></li><li><a href="/TIL/2023/0613/" class="sidebar-link">0613</a></li><li><a href="/TIL/2023/0614/" class="sidebar-link">0614</a></li><li><a href="/TIL/2023/0807/" class="sidebar-link">0807 ~ 0902</a></li><li><a href="/TIL/2023/0903/" class="sidebar-link">0903 ~ 0910</a></li><li><a href="/TIL/2023/0911/" class="sidebar-link">0911 ~ 0918</a></li><li><a href="/TIL/2023/1113/" class="sidebar-link">1113 ~ 1109</a></li><li><a href="/TIL/2023/1204/" class="sidebar-link">1204 ~ 1217</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">2022</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">2021</span> <span class="arrow right"></span></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">0206 ~ 0226</span></h1> <div class="page-info"><!----> </div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/TIL/2023/0206/#_0214-thread-dump와-heap-dump" class="anchor-link heading2"><div>0214 - Thread dump와 Heap dump</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#thread-dump" class="anchor-link heading3"><div>Thread Dump</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#heap-dump" class="anchor-link heading3"><div>Heap Dump</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#_0222-transient" class="anchor-link heading2"><div>0222 - @Transient</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#transient-이해" class="anchor-link heading3"><div>@Transient 이해</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#transient-간단한-예시와-사용법" class="anchor-link heading3"><div>@Transient 간단한 예시와 사용법</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#메서드-필드-방식을-지원하는-jpa-애노테이션의-주의사항" class="anchor-link heading3"><div>메서드/필드 방식을 지원하는 JPA 애노테이션의 주의사항</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#_0224-instant-vs-localdatetime" class="anchor-link heading2"><div>0224 - Instant vs LocalDateTime</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#instant" class="anchor-link heading3"><div>Instant</div></a></li><li class="anchor"><a href="/TIL/2023/0206/#localdatetime" class="anchor-link heading3"><div>LocalDateTime</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="_0206-0226"><a href="#_0206-0226" class="header-anchor">#</a> 0206 ~ 0226</h1> <h2 id="_0214-thread-dump와-heap-dump"><a href="#_0214-thread-dump와-heap-dump" class="header-anchor">#</a> 0214 - Thread dump와 Heap dump</h2> <p>개방용어로써 dump는 시스템에 저장된 정보를 복사하여 뽑은 것. 또는 그와 같은일로 쓰인다. 일종의 snapshot 개념인데 주로 분석 최적화에 많이 쓰인다. DB dump, Thread dump 등이 있다.</p> <h3 id="thread-dump"><a href="#thread-dump" class="header-anchor">#</a> Thread Dump</h3> <ul><li>프로세스에 속한 모든 thread들의 상태를 기록한것</li> <li>여기서 말하는 thread들 중 일부는 JVM 내부 thread 이고 일부는 실행중인 애플리케이션의 thread이다</li> <li>Thread dump는 발생된 문제들을 진단, 분석하고 jvm 성능을 최적화하는데 필요한 정보를 보여준다</li> <li>예를 들어 Thread dump는 자동으로 데드락을 표시한다</li></ul> <blockquote><p>데드락이란? 운영체제 혹은 소프트웨어의 잘못된 자원 관리로 인하여 둘 이상의 프로세스(심하면 운영체제 자체도 포함)가 함께 멈추어 버리는 현상을 말한다<br>
우리나라 말로 교착상태라고 한다<br>
데드락은 두 개 이상의 Thread에서 작업을 완료하기 위해 상대의 작업이 끝나기를 기다린다</p></blockquote> <h3 id="heap-dump"><a href="#heap-dump" class="header-anchor">#</a> Heap Dump</h3> <ul><li>특정 시점에 JVM heap 영역에 있는 모든 개체의 스냅샷</li> <li>일반적으로 알고 있는 JVM 구조에서 heap 영역을 생각하면 된다</li> <li>GC가 힙에서 불필요한 객체를 제거하지 못하는경우 Java VisualVM을 사용하여 해당 객체에 대한 정보를 얻어낼 수 있</li></ul> <h4 id="heap-dump-떠보기"><a href="#heap-dump-떠보기" class="header-anchor">#</a> <strong>[ Heap Dump 떠보기 ]</strong></h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 실시간 분석하기</span>
jmap -heap <span class="token operator">&lt;</span>PID<span class="token operator">&gt;</span>

<span class="token comment"># 파일로 출력하기</span>
jmap -dump:format<span class="token operator">=</span>b,file<span class="token operator">=</span><span class="token operator">&lt;</span>FILE_OUTPUT<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>PID<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><br> <h2 id="_0222-transient"><a href="#_0222-transient" class="header-anchor">#</a> 0222 - @Transient</h2> <p>@Transient는 엔티티 객체의 데이터와 테이블의 컬럼과 매핑하고 있는 관계를 제외하기 위해 사용한다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span> <span class="token comment">// PK  </span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span> <span class="token comment">// 사용자 아이디  </span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span> <span class="token comment">// 비밀번호  </span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> confirmPassword<span class="token punctuation">;</span> <span class="token comment">// 비밀번호 재입력  </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  
  
    <span class="token comment">// [1] @Transient 선언  </span>
    javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span>@<span class="token class-name">Transient</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> confirmPassword<span class="token punctuation">;</span> <span class="token comment">// 비밀번호 재입력 매핑 제외  </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="transient-이해"><a href="#transient-이해" class="header-anchor">#</a> @Transient 이해</h3> <p>@Transient는 JPA의 표준이라 할 수 있는 javax.persistence 패키지에 포함되어있는 컬럼을 제외하기(영속 대상에서 제외 시키기) 위해 사용하는 컬럼 매핑 레퍼런스 애노테이션이다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence</span><span class="token punctuation">;</span>  
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>  
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Transient</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>@Transient는 메서드와 필드에 선언할 수 있고 @Entity 클래스뿐만아니라 @MappedSuperclass, @Embeddable 클래스의 필드나 getter 메서드에 선언할 수 있다.</p> <blockquote><p>Specifies that the property or field is not persistent. It is used to annotate a property or field of an entity class, mapped superclass, or embeddable class. - <a href="https://docs.oracle.com/javaee/7/api/javax/persistence/Transient.html" target="_blank" rel="noopener noreferrer">Oracle Doc - @Transient<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="영속-대상에서-제외"><a href="#영속-대상에서-제외" class="header-anchor">#</a> <strong>[ 영속 대상에서 제외 ]</strong></h4> <p>무엇보다 영속(persistence)이라는 개념은 JPA의 가장 근간이 되는 개념이다. 다시 말해 JPA에선 영속성 컨텍스트(Persistence context)라는 논리적인 패러다임의 구현체라 할 수 있는 엔티티 매니저(Entity Manager)가 존재하고, 이 엔티티 매니저에서 @Entity 객체를 관리하게 된다.
<img src="https://i0.wp.com/www.javabullets.com/wp-content/uploads/2017/08/entityManager_javabullets.png?w=1357&amp;ssl=1" alt="image">
엔티티 객체의 상태가 영속 상태(managed, persistent state)일 때, 비로소 엔티티 매니저에 의해 관리된다. 영속 상태의 엔티티 객체는 엔티티 매니저에 의해 <code>[1]</code> 변화에 대한 자동 감지(Dierty Checking), <code>[2]</code> CRUD SQL 자동 생성 작업 및 그외 일련의 모든 JPA의 내부적인 동작 프로세스에서 활용된다.</p> <p>하지만 영속 대상에서 제외된다면, 더는 해당 필드나 메서드는 엔티티 매니저의 관리 대상에서 제외됨을 의미한다. 즉 해당 필드에 대해 @Transient 애노테이션을 선언하게 되면 영속 대상에서 제외되어 앞서 설명한 <code>[1, 2]</code> 작업들을 수행하지 않는다. 이러한 결과를 토대로 &quot;테이블의 컬럼과 매핑을 하지 않는다.&quot;라고 이해해도 무방하다.</p> <h3 id="transient-간단한-예시와-사용법"><a href="#transient-간단한-예시와-사용법" class="header-anchor">#</a> @Transient 간단한 예시와 사용법</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> isEvent<span class="token punctuation">;</span>  
    <span class="token comment">// ^-- 영속 제외 대상  </span>
  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runEventProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>isEvent<span class="token punctuation">)</span><span class="token punctuation">{</span>  
            <span class="token comment">// ... 이벤트 로직 수행  </span>
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>isEnvent</code> 필드의 경우 Hokking 목적으로 특정 날짜나 시간이 되면 활성화(true)되어, 상품 가격에 대한 할인율 적용과 같은 상품에 대한 이벤트 로직을 적용 시키기 위함이다.</p> <p>이처럼 특정 필드에 대해 클래스에서만 사용되고, 테이블 컬럼으로 관리하고 싶지 않을 경우에 사용한다.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>Hibernate:  
        <span class="token keyword">create</span> <span class="token keyword">table</span> product <span class="token punctuation">(</span>  
        id <span class="token keyword">bigint</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>  
        is_event <span class="token keyword">boolean</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token comment">-- 영속 제외 대상  </span>
        name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        price <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>  
        <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="transient-두-가지-방식"><a href="#transient-두-가지-방식" class="header-anchor">#</a> <strong>[ @Transient 두 가지 방식 ]</strong></h4> <p>@Transient 애노테이션은 두 가지 방식을 통해 선언할 수 있도록 제공하고 있다.</p> <ul><li>ElementType.FIELD</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">;</span>  
    <span class="token annotation punctuation">@Transient</span>  
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> isEvent<span class="token punctuation">;</span>  
    <span class="token comment">// ^-- 해당 필드 영속 제외 대상  </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>ElementType.METHOD</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span><span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> isEvent<span class="token punctuation">;</span>  
  
    <span class="token annotation punctuation">@Id</span> <span class="token annotation punctuation">@GeneratedValue</span>  
    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
    <span class="token comment">// ^-- @GeneratedValue는 JPA의 내부적인 프로세스에 의해  </span>
    <span class="token comment">// setter 메서드를 통해 데이터를 셋팅하기 때문에 구성함  </span>
    <span class="token annotation punctuation">@Transient</span> <span class="token comment">// &lt;-- 해당 메서드 영속 제외 대상  </span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getIsEventProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isEvent<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>다음 코드는 필드 방식과 마찬가지로 같은 결과를 수행하게 된다. 주의할 점은 setter 메서드가 아닌, getter 메서드에 애노테이션을 선언해줘야 한다.</p> <h3 id="메서드-필드-방식을-지원하는-jpa-애노테이션의-주의사항"><a href="#메서드-필드-방식을-지원하는-jpa-애노테이션의-주의사항" class="header-anchor">#</a> 메서드/필드 방식을 지원하는 JPA 애노테이션의 주의사항</h3> <h4 id="개발-의도와는-다르게-동작하는-jpa"><a href="#개발-의도와는-다르게-동작하는-jpa" class="header-anchor">#</a> <strong>[ 개발 의도와는 다르게 동작하는 JPA ]</strong></h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> confirmPassword<span class="token punctuation">;</span>  
  
    <span class="token annotation punctuation">@Transient</span> <span class="token comment">// &lt;-- 문제가 되는 부분  </span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getComfirmPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>confirmPassword<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>confirmPassword 필드를 영속 대상에서 제외한다.</li> <li>getComfirmPassword() 메서드에 @Trasient 애노테이션 선언</li> <li>기대하는 결과 -&gt; 테이블 컬럼 생성 및 CRUD SQL문 대상 컬럼 제외</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>Hibernate:  
        <span class="token keyword">create</span> <span class="token keyword">table</span> member <span class="token punctuation">(</span>  
        id <span class="token keyword">bigint</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>  
        user_id <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        confirm_password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token comment">-- 하지만 영속 대상에서 제외되지 않음  </span>
        <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>  
        <span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>하지만 실제 코드는 다르게 동작된다.</p> <h4 id="문제의-원인-파악-엔티티-접근-방식에-대한-이해"><a href="#문제의-원인-파악-엔티티-접근-방식에-대한-이해" class="header-anchor">#</a> <strong>[ 문제의 원인 파악 - 엔티티 접근 방식에 대한 이해 ]</strong></h4> <p>JPA 스펙에 따르자면, JPA는 두 가지 방식을 통해 영속 상태(managed, persistent state)인 엔티티 객체의 데이터에 접근할 수 있다.</p> <ol><li>프로퍼티 방식(getter/setter Method, JavaBeans Property 스타일)</li> <li>필드 방식(Instance Fileds)</li></ol> <blockquote><p><a href="https://jcp.org/en/jsr/detail?id=220" target="_blank" rel="noopener noreferrer">JPA 1.0(JSR 220)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://jcp.org/en/jsr/detail?id=317" target="_blank" rel="noopener noreferrer">JPA 2.0(JSR 317)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://jcp.org/en/jsr/detail?id=338" target="_blank" rel="noopener noreferrer">JPA 2.1(JSR 338)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// [1] 필드 방식  </span>
<span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// [2] 메서드 방식  </span>
<span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  
  
    <span class="token annotation punctuation">@Id</span>
    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span><span class="token punctuation">}</span>  
  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span><span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>JPA의 두 가지 접근 방식 중 선택하여 개발할 수 있도록, 필드 레벨에 선언시킬 수 있는 모든 JPA의 애노테이션들은 기본적으로 Property 방식을 지원하기 위해 메서드 레벨을 지원한다.</p> <p>여기서 중요한 핵심은 설계 방식에 따라 JPA는 엔티티 객체의 접근 방식이 다르게 결정된다. 기본적으로 엔티티 매니저의 1차 캐시는 <code>Map&lt;@Id, @Entity&gt;</code> 형태로 설계되어 key에 해당하는 @Id와 value에 해당하는 엔티티 객체를 저장하여 관리한다.</p> <p>결과적으로 JPA의 엔티티의 접근 방식은 @Id 애노테이션의 위치에 의해 결정되며, 엔티티의 모든 필드 또는 상속된 엔티티의 계층에 대해서도 일관성 있게 적용해줘야 한다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>엔티티의 계층에 대해서도 일관성 있게 적용해줘야 합니다<span class="token punctuation">.</span>  
  
<span class="token annotation punctuation">@Entity</span>  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Member</span><span class="token punctuation">{</span>  
    <span class="token annotation punctuation">@Id</span> <span class="token comment">// 필드 방식  </span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token class-name">String</span> confirmPassword<span class="token punctuation">;</span>  
  
    <span class="token annotation punctuation">@Transient</span> <span class="token comment">// JPA에서 인식 불가 → 동작 안함  </span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getComfirmPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>confirmPassword<span class="token punctuation">;</span> <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>따라서 다음 문제가 된 엔티티 구조에선 @Id 애노테이션의 위치가 필드에 있으므로 JPA는 필드 접근 방식을 따르게 된다. 이러한 이유로 confirmPassword 필드는 영속 대상에서 제외되지 않는다.</p> <h4 id="정리"><a href="#정리" class="header-anchor">#</a> <strong>[ 정리 ]</strong></h4> <ol><li>@Transient는 영속 대상에서 제외한다.</li> <li>JPA 컬럼 매핑 레퍼런스 애노테이션은 Filed, Property 방식을 지원하기 위해 필드와 메서드에 선언할 수 있다.</li> <li>컬럼 매핑 레퍼런스 애노테이션을 사용할 때 JPA의 엔티티 접근 방식을 살펴보자.
<ul><li>@Id 애노테이션의 위치를 보자.(@Access 애노테이션으로 접근 방식을 재정의하지 않는 이상)</li></ul></li> <li>QueryDSL 또한 JPA의 엔티티 접근 방식을 기준으로 QDomain 클래스를 생성한다.
<ul><li>또한, @Transient 애노테이션이 선언된 필드나 메서드는 QDomain 클래스의 쿼리 타입 생성과정에서 제외된다.</li></ul></li></ol> <br> <h2 id="_0224-instant-vs-localdatetime"><a href="#_0224-instant-vs-localdatetime" class="header-anchor">#</a> 0224 - Instant vs LocalDateTime</h2> <h3 id="instant"><a href="#instant" class="header-anchor">#</a> Instant</h3> <ul><li>Instant 클래스는 단어의 의미와 같이 순가, 즉시를 의미한다.</li> <li>컴퓨팅을 하기 위해 Timestamp로 기술적인 표현을 한 것.
<ul><li>즉, 인간보다는 기계에 친화적이다.</li></ul></li> <li>long 형태로 Unix Timestamp를 저장하기 때문에 연산이 빠르다.</li> <li>Unix Timestamp 는 <code>Year 2038 problem</code> 문제가 있어 이를 보완한 것이 Instant 클래스이다.</li> <li>지원 범위
<ul><li><code>MIN_SECOND</code> = <code>-10000000-01-01T00:00Z</code></li> <li><code>MAX_SECOND</code> = <code>1000000000-12-31T23:59:59.99999999Z</code></li></ul></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> MIN_SECOND <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">31557014167219200L</span><span class="token punctuation">;</span> 
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> MAX_SECOND <span class="token operator">=</span> <span class="token number">31556889864403199L</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>객체 생성</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Instant</span> now <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 2022-08-08T16:09:17.105081Z -- 2022년 08월 09일 01시 09분 17초</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>나노초까지 표현 가능(뒤에 Z를 표현함)</li> <li>Timestamp는 본래 long타입이다. toString()을 재정의 함.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Instant</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">currentInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
  
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token punctuation">{</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> OFFSET_SEED <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">-</span> <span class="token number">1024</span><span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">long</span> offset <span class="token operator">=</span> OFFSET_SEED<span class="token punctuation">;</span>  
  
    <span class="token comment">// 시스템의 현재 시간을 가져온다 나노초로 가져오는 것을 밀리초로 표현해준다.  </span>
    <span class="token keyword">static</span> <span class="token class-name">Instant</span> <span class="token function">currentInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">long</span> localOffset <span class="token operator">=</span> offset<span class="token punctuation">;</span>  
        <span class="token keyword">long</span> adjustment <span class="token operator">=</span> VM<span class="token punctuation">.</span><span class="token function">getNanoTimeAdjustment</span><span class="token punctuation">(</span>localOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// 밀리초를 나노초로 변환해서 가져온다  </span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  
        <span class="token keyword">return</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">ofEpochSecond</span><span class="token punctuation">(</span>localOffset<span class="token punctuation">,</span> adjustment<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="localdatetime"><a href="#localdatetime" class="header-anchor">#</a> LocalDateTime</h3> <ul><li>LocalDateTime은 날짜 + 시간 정보를 가지고 있다. Timezone이 없다.</li> <li>LocalDateTime은 인간에게 친화적인 타입</li> <li>LocalDateTime은 현재 로컬 시간에 맞춰서 시간을 표현</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 2022-08-09T01:09:17.113332 2022년 08월 09일 01시 09분 17초</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>인스턴스의 Tiemzone 기반으로 Offset을 생성한 후 현재 시점 기준으로 LocalDate, LocalTime 객체를 생성 후 LocalDateTime을 생성한다.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">LocalDateTime</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalDateTime</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">return</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">systemDefaultZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Clock</span> <span class="token function">systemDefaultZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// 시스템의 ZoneId를 가져온다   </span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SystemClock</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalDateTime</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">Clock</span> clock<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>clock<span class="token punctuation">,</span> <span class="token string">&quot;clock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">final</span> <span class="token class-name">Instant</span> now <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// ZoneId를 기반으로 Offset 정보를 가져온다.   </span>
<span class="token class-name">ZoneOffset</span> offset <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">getZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token function">ofEpochSecond</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> offset<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LocalDateTime</span> <span class="token function">ofEpochSecond</span><span class="token punctuation">(</span><span class="token keyword">long</span> epochSecond<span class="token punctuation">,</span> <span class="token keyword">int</span> nanoOfSecond<span class="token punctuation">,</span> <span class="token class-name">ZoneOffset</span> offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> <span class="token string">&quot;offset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        NANO_OF_SECOND<span class="token punctuation">.</span><span class="token function">checkValidValue</span><span class="token punctuation">(</span>nanoOfSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">long</span> localSecond <span class="token operator">=</span> epochSecond <span class="token operator">+</span> offset<span class="token punctuation">.</span><span class="token function">getTotalSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">long</span> localEpochDay <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floorDiv</span><span class="token punctuation">(</span>localSecond<span class="token punctuation">,</span> SECONDS_PER_DAY<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">int</span> secsOfDay <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floorMod</span><span class="token punctuation">(</span>localSecond<span class="token punctuation">,</span> SECONDS_PER_DAY<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">ofEpochDay</span><span class="token punctuation">(</span>localEpochDay<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token class-name">LocalTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">ofNanoOfDay</span><span class="token punctuation">(</span>secsOfDay <span class="token operator">*</span> NANOS_PER_SECOND <span class="token operator">+</span> nanoOfSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="localdatetime을-사용-했을-때-문제점"><a href="#localdatetime을-사용-했을-때-문제점" class="header-anchor">#</a> <strong>[ LocalDateTime을 사용 했을 때 문제점 ]</strong></h4> <ul><li>글로벌 환경의 경우 UTC를 따로 설정해 주지 않는 이상 각각 Timezone에 맞춰 데이터가 생성된다.</li></ul> <h4 id="어떤-상황에-사용하는-것이-적합할까"><a href="#어떤-상황에-사용하는-것이-적합할까" class="header-anchor">#</a> <strong>[ 어떤 상황에 사용하는 것이 적합할까 ]</strong></h4> <ul><li>Timestamp를 UTC 형식으로 저장하는 곳 즉 DB, 백엔드 비즈니스 로직, 데이터 교환, 직렬화 시나리오에 적합하다.(연산하기 쉬움)</li> <li>글로벌 런칭한 서비스 비즈니스 앱 개발 시 Instant 나 ZonedDateTime 클래스를 많이 사용</li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">March 1, 2023 23:42</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: jaesungahn91@gmail.com" class="contributor">
          jaesungahn91
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/TIL/2023/0130/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        0130 ~ 0205
      </a></span> <span class="next"><a href="/TIL/2023/0227/">
        0227 ~ 0305
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/TIL/assets/js/app.5fb46d7a.js" defer></script><script src="/TIL/assets/js/vendors~layout-Layout.1c8ba735.js" defer></script><script src="/TIL/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.2212e50f.js" defer></script><script src="/TIL/assets/js/page-0206~0226.5da382f5.js" defer></script><script src="/TIL/assets/js/vendors~layout-Blog~layout-Layout.e5523903.js" defer></script>
  </body>
</html>
