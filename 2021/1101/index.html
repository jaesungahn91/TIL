<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1101 - 1107 | ahnjs TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="manifest" href="/TIL/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="Today I Learned">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.c9ce91a1.css" as="style"><link rel="preload" href="/TIL/assets/js/app.5fb46d7a.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Layout.1c8ba735.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.2212e50f.js" as="script"><link rel="preload" href="/TIL/assets/js/page-1101-1107.e08121f1.js" as="script"><link rel="preload" href="/TIL/assets/js/vendors~layout-Blog~layout-Layout.e5523903.js" as="script"><link rel="prefetch" href="/TIL/assets/js/103.8c089b22.js"><link rel="prefetch" href="/TIL/assets/js/104.119134a5.js"><link rel="prefetch" href="/TIL/assets/js/layout-Blog.a086a7ca.js"><link rel="prefetch" href="/TIL/assets/js/layout-Layout.0945805f.js"><link rel="prefetch" href="/TIL/assets/js/layout-NotFound.9e898f41.js"><link rel="prefetch" href="/TIL/assets/js/layout-Slide.f940a7a7.js"><link rel="prefetch" href="/TIL/assets/js/page-0102-0109.d861648d.js"><link rel="prefetch" href="/TIL/assets/js/page-0102~0108.3f3ff8b4.js"><link rel="prefetch" href="/TIL/assets/js/page-0109~0115.4c6b192d.js"><link rel="prefetch" href="/TIL/assets/js/page-0110-0116.feb84c5b.js"><link rel="prefetch" href="/TIL/assets/js/page-0116~0129.d55b06ca.js"><link rel="prefetch" href="/TIL/assets/js/page-0117-0123.7a6dce2f.js"><link rel="prefetch" href="/TIL/assets/js/page-0124-0206.ee32f254.js"><link rel="prefetch" href="/TIL/assets/js/page-0130~0205.df7a6a64.js"><link rel="prefetch" href="/TIL/assets/js/page-0206~0226.5da382f5.js"><link rel="prefetch" href="/TIL/assets/js/page-0211-0220.cd9bd482.js"><link rel="prefetch" href="/TIL/assets/js/page-0217-0221.1ed564ea.js"><link rel="prefetch" href="/TIL/assets/js/page-0221-0227.40b291d8.js"><link rel="prefetch" href="/TIL/assets/js/page-0222-0229.c4aa2b4d.js"><link rel="prefetch" href="/TIL/assets/js/page-0227~0305.164780e1.js"><link rel="prefetch" href="/TIL/assets/js/page-0228-0313.960c5eb2.js"><link rel="prefetch" href="/TIL/assets/js/page-0301-0307.8a2dd769.js"><link rel="prefetch" href="/TIL/assets/js/page-0306~0319.d7e1dd39.js"><link rel="prefetch" href="/TIL/assets/js/page-0308-0314.95d08be9.js"><link rel="prefetch" href="/TIL/assets/js/page-0314-0320.a482c7e8.js"><link rel="prefetch" href="/TIL/assets/js/page-0315-0321.0bf22c5a.js"><link rel="prefetch" href="/TIL/assets/js/page-0320~0402.dc9cbbee.js"><link rel="prefetch" href="/TIL/assets/js/page-0321-0328.536bc991.js"><link rel="prefetch" href="/TIL/assets/js/page-0322-0328.5002c0f8.js"><link rel="prefetch" href="/TIL/assets/js/page-0329-0404.c6f98895.js"><link rel="prefetch" href="/TIL/assets/js/page-0329~0403.5b50aeae.js"><link rel="prefetch" href="/TIL/assets/js/page-0403~0423.db8f2eb4.js"><link rel="prefetch" href="/TIL/assets/js/page-0404~0410.6dd2170c.js"><link rel="prefetch" href="/TIL/assets/js/page-0405-0411.dfef4290.js"><link rel="prefetch" href="/TIL/assets/js/page-0411~0417.31e79aa4.js"><link rel="prefetch" href="/TIL/assets/js/page-0412-0418.aab597de.js"><link rel="prefetch" href="/TIL/assets/js/page-0418~0424.acb47103.js"><link rel="prefetch" href="/TIL/assets/js/page-0419-0425.bc1c1f3f.js"><link rel="prefetch" href="/TIL/assets/js/page-0425~0501.63985992.js"><link rel="prefetch" href="/TIL/assets/js/page-0426-0502.d7a75a07.js"><link rel="prefetch" href="/TIL/assets/js/page-0502~0515.21ce942d.js"><link rel="prefetch" href="/TIL/assets/js/page-0503-0509.fb0660a5.js"><link rel="prefetch" href="/TIL/assets/js/page-0510-0516.00f7a787.js"><link rel="prefetch" href="/TIL/assets/js/page-0516~0529.c375a6ba.js"><link rel="prefetch" href="/TIL/assets/js/page-0517-0523.b1aa4a22.js"><link rel="prefetch" href="/TIL/assets/js/page-0523~0605.6e7cab56.js"><link rel="prefetch" href="/TIL/assets/js/page-0524-0530.8c92fe4f.js"><link rel="prefetch" href="/TIL/assets/js/page-0531-0606.e40cfd3f.js"><link rel="prefetch" href="/TIL/assets/js/page-0606~0619.b2a4a63a.js"><link rel="prefetch" href="/TIL/assets/js/page-0607-0613.b7eaa930.js"><link rel="prefetch" href="/TIL/assets/js/page-0612.6d4d2838.js"><link rel="prefetch" href="/TIL/assets/js/page-0613.dfd2eb79.js"><link rel="prefetch" href="/TIL/assets/js/page-0614-0620.8c3b6db2.js"><link rel="prefetch" href="/TIL/assets/js/page-0614.c29fe08f.js"><link rel="prefetch" href="/TIL/assets/js/page-0621-0627.8b7cfba5.js"><link rel="prefetch" href="/TIL/assets/js/page-0627~0703.32c82c88.js"><link rel="prefetch" href="/TIL/assets/js/page-0628-0704.a12f4dd5.js"><link rel="prefetch" href="/TIL/assets/js/page-0705-0808.84dfa0c2.js"><link rel="prefetch" href="/TIL/assets/js/page-0711~0717.c1d09532.js"><link rel="prefetch" href="/TIL/assets/js/page-0718~0724.28a7589f.js"><link rel="prefetch" href="/TIL/assets/js/page-0725~0807.ef50582d.js"><link rel="prefetch" href="/TIL/assets/js/page-0807~0902.96994631.js"><link rel="prefetch" href="/TIL/assets/js/page-0808~0814.d656f648.js"><link rel="prefetch" href="/TIL/assets/js/page-0809-0815.348cc1c5.js"><link rel="prefetch" href="/TIL/assets/js/page-0815~0824.df5c5da0.js"><link rel="prefetch" href="/TIL/assets/js/page-0816-0822.87a87566.js"><link rel="prefetch" href="/TIL/assets/js/page-0822~0911.4867b37a.js"><link rel="prefetch" href="/TIL/assets/js/page-0823-0829.8bcfd48b.js"><link rel="prefetch" href="/TIL/assets/js/page-0830-0905.8b54a9e8.js"><link rel="prefetch" href="/TIL/assets/js/page-0903~0910.f917d595.js"><link rel="prefetch" href="/TIL/assets/js/page-0906-0919.a1897d51.js"><link rel="prefetch" href="/TIL/assets/js/page-0911~0918.7dfbe6de.js"><link rel="prefetch" href="/TIL/assets/js/page-0912~0918.274ce7a6.js"><link rel="prefetch" href="/TIL/assets/js/page-0919~0925.e25dd9ff.js"><link rel="prefetch" href="/TIL/assets/js/page-0920-0926.22e5547a.js"><link rel="prefetch" href="/TIL/assets/js/page-0926~1002.d97a33b4.js"><link rel="prefetch" href="/TIL/assets/js/page-0927-1003.cd544f10.js"><link rel="prefetch" href="/TIL/assets/js/page-1003~1009.b12a6f87.js"><link rel="prefetch" href="/TIL/assets/js/page-1004-1010.92ee8f8e.js"><link rel="prefetch" href="/TIL/assets/js/page-1010~1016.00b69211.js"><link rel="prefetch" href="/TIL/assets/js/page-1011-1017.c314b6aa.js"><link rel="prefetch" href="/TIL/assets/js/page-1017~1030.03e8572f.js"><link rel="prefetch" href="/TIL/assets/js/page-1018-1024.35384747.js"><link rel="prefetch" href="/TIL/assets/js/page-1025-1031.e5a2aad2.js"><link rel="prefetch" href="/TIL/assets/js/page-1031~1113.813912c9.js"><link rel="prefetch" href="/TIL/assets/js/page-1108-1114.14c10b7a.js"><link rel="prefetch" href="/TIL/assets/js/page-1113~1109.6ffeae7e.js"><link rel="prefetch" href="/TIL/assets/js/page-1114~1127.edbc49cd.js"><link rel="prefetch" href="/TIL/assets/js/page-1115-1124.248147ec.js"><link rel="prefetch" href="/TIL/assets/js/page-1122-1128.de82e713.js"><link rel="prefetch" href="/TIL/assets/js/page-1128~1211.ca0d6242.js"><link rel="prefetch" href="/TIL/assets/js/page-1129-1205.57233094.js"><link rel="prefetch" href="/TIL/assets/js/page-1204~1217.bfef77e0.js"><link rel="prefetch" href="/TIL/assets/js/page-1206-1212.100e1893.js"><link rel="prefetch" href="/TIL/assets/js/page-1212~0101.031e14d3.js"><link rel="prefetch" href="/TIL/assets/js/page-1213-1219.0e09712c.js"><link rel="prefetch" href="/TIL/assets/js/page-1220-1226.4cb62ec6.js"><link rel="prefetch" href="/TIL/assets/js/page-📖TodayILearned.7bda0772.js"><link rel="prefetch" href="/TIL/assets/js/vendors~photo-swipe.7980dd4b.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.c9ce91a1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/TIL/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">ahnjs TIL</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">2023</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><!----> <span class="title">2022</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><!----> <span class="title">2021</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/2021/0217/" class="sidebar-link">0217 - 0221</a></li><li><a href="/TIL/2021/0222/" class="sidebar-link">0222 - 0229</a></li><li><a href="/TIL/2021/0301/" class="sidebar-link">0301 - 0307</a></li><li><a href="/TIL/2021/0308/" class="sidebar-link">0308 - 0314</a></li><li><a href="/TIL/2021/0315/" class="sidebar-link">0315 - 0321</a></li><li><a href="/TIL/2021/0322/" class="sidebar-link">0322 - 0328</a></li><li><a href="/TIL/2021/0329/" class="sidebar-link">0329 - 0404</a></li><li><a href="/TIL/2021/0405/" class="sidebar-link">0405 - 0411</a></li><li><a href="/TIL/2021/0412/" class="sidebar-link">0412 - 0418</a></li><li><a href="/TIL/2021/0419/" class="sidebar-link">0419 - 0425</a></li><li><a href="/TIL/2021/0426/" class="sidebar-link">0426 - 0502</a></li><li><a href="/TIL/2021/0503/" class="sidebar-link">0503 - 0509</a></li><li><a href="/TIL/2021/0510/" class="sidebar-link">0510 - 0516</a></li><li><a href="/TIL/2021/0517/" class="sidebar-link">0517 - 0523</a></li><li><a href="/TIL/2021/0524/" class="sidebar-link">0524 - 0530</a></li><li><a href="/TIL/2021/0531/" class="sidebar-link">0531 - 0606</a></li><li><a href="/TIL/2021/0607/" class="sidebar-link">0607 - 0613</a></li><li><a href="/TIL/2021/0614/" class="sidebar-link">0614 - 0620</a></li><li><a href="/TIL/2021/0621/" class="sidebar-link">0621 - 0627</a></li><li><a href="/TIL/2021/0628/" class="sidebar-link">0628 - 0704</a></li><li><a href="/TIL/2021/0705/" class="sidebar-link">0705 - 0808</a></li><li><a href="/TIL/2021/0809/" class="sidebar-link">0809 - 0815</a></li><li><a href="/TIL/2021/0816/" class="sidebar-link">0816 - 0822</a></li><li><a href="/TIL/2021/0823/" class="sidebar-link">0823 - 0829</a></li><li><a href="/TIL/2021/0830/" class="sidebar-link">0830 - 0905</a></li><li><a href="/TIL/2021/0906/" class="sidebar-link">0906 - 0919</a></li><li><a href="/TIL/2021/0920/" class="sidebar-link">0920 - 0926</a></li><li><a href="/TIL/2021/0927/" class="sidebar-link">0927 - 1003</a></li><li><a href="/TIL/2021/1004/" class="sidebar-link">1004 - 1010</a></li><li><a href="/TIL/2021/1011/" class="sidebar-link">1011 - 1017</a></li><li><a href="/TIL/2021/1018/" class="sidebar-link">1018 - 1024</a></li><li><a href="/TIL/2021/1101/" aria-current="page" class="active sidebar-link">1101 - 1107</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1101-http-api와-rest-api" class="sidebar-link">1101 - HTTP API와 REST API</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1102-자바-var-키워드" class="sidebar-link">1102 - 자바 var 키워드</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#var로-변수-선언" class="sidebar-link heading3">var로 변수 선언</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#제약-사항" class="sidebar-link heading3">제약 사항</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1103-bigdecimal" class="sidebar-link">1103 - BigDecimal</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#bigdecimal이란" class="sidebar-link heading3">BigDecimal이란?</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#double-무엇이-문제인가" class="sidebar-link heading3">double, 무엇이 문제인가?</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#bigdecimal-사용" class="sidebar-link heading3">BigDecimal 사용</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1104-정적-팩토리-메서드-static-factory-method" class="sidebar-link">1104 - 정적 팩토리 메서드(static factory method)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#개요" class="sidebar-link heading3">개요</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#effective-java" class="sidebar-link heading3">Effective Java</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#정적-팩토리-메서드-특징" class="sidebar-link heading3">정적 팩토리 메서드 특징</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1105-fixture와-mock" class="sidebar-link">1105 - Fixture와 Mock</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#test-fixture" class="sidebar-link heading3">Test Fixture</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#mock-mocking" class="sidebar-link heading3">Mock, Mocking</a></li></ul></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#_1106-rest-assured" class="sidebar-link">1106 - REST Assured</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#rest-assured란" class="sidebar-link heading3">REST Assured란?</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/1101/#rest-assured-사용" class="sidebar-link heading3">REST Assured 사용</a></li></ul></li></ul></li><li><a href="/TIL/2021/1108/" class="sidebar-link">1108 - 1114</a></li><li><a href="/TIL/2021/1115/" class="sidebar-link">1115 - 1124</a></li><li><a href="/TIL/2021/1122/" class="sidebar-link">1122 - 1128</a></li><li><a href="/TIL/2021/1129/" class="sidebar-link">1129 - 1205</a></li><li><a href="/TIL/2021/1206/" class="sidebar-link">1206 - 1212</a></li><li><a href="/TIL/2021/1213/" class="sidebar-link">1213 - 1219</a></li><li><a href="/TIL/2021/1220/" class="sidebar-link">1220 - 1226</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">1101 - 1107</span></h1> <div class="page-info"><!----> </div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/TIL/2021/1101/#_1101-http-api와-rest-api" class="anchor-link heading2"><div>1101 - HTTP API와 REST API</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#_1102-자바-var-키워드" class="anchor-link heading2"><div>1102 - 자바 var 키워드</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#var로-변수-선언" class="anchor-link heading3"><div>var로 변수 선언</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#제약-사항" class="anchor-link heading3"><div>제약 사항</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#_1103-bigdecimal" class="anchor-link heading2"><div>1103 - BigDecimal</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#bigdecimal이란" class="anchor-link heading3"><div>BigDecimal이란?</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#double-무엇이-문제인가" class="anchor-link heading3"><div>double, 무엇이 문제인가?</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#bigdecimal-사용" class="anchor-link heading3"><div>BigDecimal 사용</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#_1104-정적-팩토리-메서드-static-factory-method" class="anchor-link heading2"><div>1104 - 정적 팩토리 메서드(static factory method)</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#개요" class="anchor-link heading3"><div>개요</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#effective-java" class="anchor-link heading3"><div>Effective Java</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#정적-팩토리-메서드-특징" class="anchor-link heading3"><div>정적 팩토리 메서드 특징</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#_1105-fixture와-mock" class="anchor-link heading2"><div>1105 - Fixture와 Mock</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#test-fixture" class="anchor-link heading3"><div>Test Fixture</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#mock-mocking" class="anchor-link heading3"><div>Mock, Mocking</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#_1106-rest-assured" class="anchor-link heading2"><div>1106 - REST Assured</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#rest-assured란" class="anchor-link heading3"><div>REST Assured란?</div></a></li><li class="anchor"><a href="/TIL/2021/1101/#rest-assured-사용" class="anchor-link heading3"><div>REST Assured 사용</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="_1101-1107"><a href="#_1101-1107" class="header-anchor">#</a> 1101 - 1107</h1> <h2 id="_1101-http-api와-rest-api"><a href="#_1101-http-api와-rest-api" class="header-anchor">#</a> 1101 - HTTP API와 REST API</h2> <p>HTTP API와 REST API는 사실 거의 같은 의미로 사용된다.<br>
하지만 디테일하게 들어가면 차이가 있다.</p> <ul><li>HTTP API는 HTTP를 사용해서 서로 정해둔 스펙으로 데이터를 주고 받으면 통신하는 것, 상당히 넓은 의미로 사용</li> <li>반면, REST API는 HTTP API에 여러가지 제약 조건이 추가된다.
<ul><li>자원의 식별</li> <li>메세지를 통한 리소스 조작</li> <li>자기서술적 메세지</li> <li>애플리케이션의 상태에 대한 엔진으로서 하이퍼미디어</li></ul></li></ul> <p>여러가지가 있지만 대표적으로 구현하기 어려운 부분이 마지막 부분이다. 이것은 HTML처럼 하이퍼링크가 추가되어서 다음에 어떤 API를 호출해야 하는지를 해당 링크를 통해서 받을 수 있어야 한다.</p> <p>그리고 이런 부분을 완변하게 지키면서 개발하는 것을 <code>RESTful API</code>라고 한다. 실무에서 이런 방법으로 갭라하는 것은 현실적으로 어렵고, 또 추가 개발 비용대비 효과가 부족하다.</p> <p>그런데 이미 많은 사람들이 해당 조건을 지키지 않아도 REST API라고 하기 때문에, HTTP API나 REST API를 거의 같은 의미로 사용하고 있다. 하지만 앞서 이야기한 것 처럼 엄격하게 위의 내용들을 모두 지켜야 RESTful한 API라고 할 수 있다.</p> <br> <h2 id="_1102-자바-var-키워드"><a href="#_1102-자바-var-키워드" class="header-anchor">#</a> 1102 - 자바 var 키워드</h2> <p>Java 10에서 도입된 var는 변수를 선언할 때 타입을 생략할 수 있으며, 컴파일러가 타입을 추론한다.</p> <p>다음과 같이 변수를 선언하면 컴파일러가 String 타입을 추론하여 번수에 타입을 지정해 준다. Kotlin과 같이 타입 출론을 지원하는 언어와 같이 지원한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>컴파일 타임에 추론하는 것이기 때문에, Runtime에 추가 연산을 하지 않아 성능에 영향을 주지는 않는다.</li> <li>Java에서 var는 지역 변수에서만 사용할 수 있따. 또한 컴파일러가 타입을 추론할 수 없는 애매한 상황일 때 컴파일 에러가 발생한다.</li></ul> <h3 id="var로-변수-선언"><a href="#var로-변수-선언" class="header-anchor">#</a> var로 변수 선언</h3> <ul><li>Java 9이하</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Java 10</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>str <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;This is a String : &quot;</span> <span class="token operator">+</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// This is a String : Hello, World</span>
</code></pre></div><p>다른 클래스들도 var로 변수를 선언할 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token keyword">instanceof</span> <span class="token class-name">ArrayList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;This is a ArrayList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// This is a ArrayList</span>
</code></pre></div><p>여기서 list는 ArrayList<String>타입으로 선언되며, var list = new ArrayList();로 선언하면 타입은 ArrayList<Object>가 된다.</Object></String></p> <h4 id="반복문에서-사용"><a href="#반복문에서-사용" class="header-anchor">#</a> 반복문에서 사용</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token operator">:</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;n : &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// n : 1</span>
<span class="token comment">// n : 2</span>
<span class="token comment">// n : 3</span>
</code></pre></div><h3 id="제약-사항"><a href="#제약-사항" class="header-anchor">#</a> 제약 사항</h3> <ul><li>지역 변수에서만 사용</li> <li>초기화 필요</li> <li>null로 초기화할 수 없음</li> <li>배열에 사용할 수 없음</li> <li>Lambda에 사용할 수 없음</li></ul> <br> <h2 id="_1103-bigdecimal"><a href="#_1103-bigdecimal" class="header-anchor">#</a> 1103 - BigDecimal</h2> <p>자바는 <code>IEEE 754</code> 부동 소수점 방식을 사용하기 떄문에<br>
정확한 실수를 저장하지 않고 최대한 완벽에 가깝기를 바라는 근사치 값을 저장한다.</p> <p>따라서 금융권에서 달러를 다루는 개발자가 double을 이용한다면 문제가 발생할 수 있다.</p> <p>이러한 문제를 해결하기위해 부동 소숫점 방식이 아닌, 정수를 이용해 실수를 표현하는 <code>java.math.BigDecimal</code>클래스를 사용한다.</p> <h3 id="bigdecimal이란"><a href="#bigdecimal이란" class="header-anchor">#</a> BigDecimal이란?</h3> <ul><li>BigDecimal은 Java 언어에서 숫자를 정밀하게 저장하고 표현할 수 있는 유일한 방법이다.</li> <li>소수점을 저장할 수 있는 가장 크기가 큰 타입인 double은 소수점의 정밀도에 한계까 있어 값이 유실될 수 있다.</li> <li>Java 언어에서 돈과 소수점을 다룬다면 BigDecimal은 선택이 아니라 필수이다.</li> <li>BigDecimal의 유일한 단점은 느린 속도와 기본 타입보다 조금 불편한 사용법 이다.</li></ul> <h3 id="double-무엇이-문제인가"><a href="#double-무엇이-문제인가" class="header-anchor">#</a> double, 무엇이 문제인가?</h3> <ul><li>소수점 이하의 수를 다룰 때 double 타입은 사칙연산시 기대 값과 다른 값을 출력한다. 이유는 double 타입이 내부적으로 수를 저장할 때 이진수의 근사치를 저장하기 때문이다. 저장된 수를 다시 십진수로 표현하면서 아래와 같은 문제가 발생한다. BigDecimal 타입은 내부적으로 수를 십진수로 저장하여 아주 작은 수와 큰 수의 연산에 대해 거의 무한한 정밀도를 보장한다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">10.0000</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> b <span class="token operator">=</span> <span class="token number">3.0000</span><span class="token punctuation">;</span>

<span class="token comment">// 기대값: 13</span>
<span class="token comment">// 실제값: 13.000001999999999</span>
a <span class="token operator">+</span> b<span class="token punctuation">;</span>

<span class="token comment">// 기대값: 7</span>
<span class="token comment">// 실제값: 6.999999999999999</span>
a <span class="token operator">-</span> b<span class="token punctuation">;</span>

<span class="token comment">// 기대값: 30</span>
<span class="token comment">// 실제값: 30.000013000000997</span>
a <span class="token operator">*</span> b<span class="token punctuation">;</span>

<span class="token comment">// 기대값: 3.33333...</span>
<span class="token comment">// 실제값: 3.333332555555814</span>
a <span class="token operator">/</span> b<span class="token punctuation">;</span>
</code></pre></div><h3 id="bigdecimal-사용"><a href="#bigdecimal-사용" class="header-anchor">#</a> BigDecimal 사용</h3> <h4 id="bigdecimal-기본-용어"><a href="#bigdecimal-기본-용어" class="header-anchor">#</a> BigDecimal 기본 용어</h4> <ul><li>precision : 숫자를 구성하는 전체 자리수라고 생각하면 편하나, 정확하게 풀이하면 왼쪽부터 0이 아닌 수가 시작하는 위치부터 오른쪽부터 0이 아닌 수로 끝나는 위치까지의 총 자리수이다. unscale과 동의어이다. (ex: 012345.67890의 precision은 11이 아닌9이다.)</li> <li>scale : 전체 소수점 자리수라고 생각하면 편하나, 정확하게 풀이하면 소수점 첫쨰 자리부터 오른쪽부터 0이 아닌 수로 끝나는 위치까지의 총 소수점 자리수이다. fraction과 동의어이다. (ex: 012345.67890의 scale은 4이다. 하지만 0.00, 0.0의 scale은 모두 1이다.) BigDecimal은 32bit의 소수점 크기를 가진다.</li> <li>DECIMAL128: IEEE 754-2008에 의해 표준화된, 부호와 소수점을 수용하며, 최대 34자리까지 표현 가능한 10진수를 저장할 수 있는 형식이다. 2018년 미국 정부의 총 부채액이 15조 7천 500억 달러로 총 14자리 임을 감안하면, 금융권에서 처리되는 대부분의 금액을 수용할 수 있는 크기이다. Java에서는 BigDecimal 타입을 통해 공식적으로 지원한다.</li></ul> <h4 id="bigdecimal-기본-상수"><a href="#bigdecimal-기본-상수" class="header-anchor">#</a> BigDecimal 기본 상수</h4> <ul><li>float, double 타입과 다르게 BigDecimal 타입은 초기화가 장황한 편이다. 그래서, 자주 쓰는 0, 1, 100은 쓰기 편하게 미리 상수로 정의되어 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 흔히 쓰이는 값은 상수로 정의</span>
<span class="token comment">// 0</span>
<span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO

<span class="token comment">// 1</span>
<span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ONE

<span class="token comment">// 10</span>
<span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>TEN
</code></pre></div><h4 id="bigdecimal-초기화"><a href="#bigdecimal-초기화" class="header-anchor">#</a> BigDecimal 초기화</h4> <ul><li>double 타입으로 부터 BigDecimal 타입을 초기화하는 방법으로 가장 안전한 것은 문자열의 형태로 생성자에 전달하여 초기화 하는 것이다. double 타입의 값을 그대로 전달할 경우 앞서 사칙연산 결과에서 본 것과 같이 이진수의 근사치를 가지게 되어 예상과 다른 값을 얻을 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// double 타입을 그대로 초기화하면 기대값과 다른 값을 가진다.</span>
<span class="token comment">// 0.01000000000000000020816681711721685132943093776702880859375</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 문자열로 초기화하면 정상 인식</span>
<span class="token comment">// 0.01</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 위와 동일한 결과, double#toString을 이용하여 문자열로 초기화</span>
<span class="token comment">// 0.01</span>
<span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="bigdecimal-비교-연산"><a href="#bigdecimal-비교-연산" class="header-anchor">#</a> BigDecimal 비교 연산</h4> <ul><li>BigDecimal은 기본 타입이 아닌 오브젝트이기 때문에 특히, 동등 비교 연산을 유의해야 한다. double 타입을 사용하던 습관대로 무의식적으로 == 기호를 사용하면 예기치 않은 연산 결과를 초래할 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;2.01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;2.010&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 객체의 레퍼런스 주소에 대한 비교 연산자로 무의식적으로 값의 비교를 위해 사용하면 오동작</span>
<span class="token comment">// false</span>
a <span class="token operator">==</span> b<span class="token punctuation">;</span>

<span class="token comment">// 값의 비교를 위해 사용, 소수점 맨 끝의 0까지 완전히 값이 동일해야 true 반환</span>
<span class="token comment">// false</span>
a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 값의 비교를 위해 사용, 소수점 맨 끝의 0을 무시하고 값이 동일하면 0, 적으면 -1, 많으면 1을 반환</span>
<span class="token comment">// 0</span>
a<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="bigdecimal-사칙-연산"><a href="#bigdecimal-사칙-연산" class="header-anchor">#</a> BigDecimal 사칙 연산</h4> <ul><li>Java에서 BigDecimal 타입의 사칙 연산 방법은 아래와 같다. 보다시피 double 타입보다 장황하고 귀찮은 편이다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 더하기</span>
<span class="token comment">// 13</span>
a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 빼기</span>
<span class="token comment">// 7</span>
a<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 곱하기</span>
<span class="token comment">// 30</span>
a<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 나누기</span>
<span class="token comment">// 3.333333...</span>
<span class="token comment">// java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.</span>
a<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 나누기</span>
<span class="token comment">// 3.333</span>
a<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 나누기 후 나머지</span>
<span class="token comment">// 전체 자리수를 34개로 제한</span>
<span class="token comment">// 1</span>
a<span class="token punctuation">.</span><span class="token function">remainder</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token class-name">MathContext</span><span class="token punctuation">.</span>DECIMAL128<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 절대값</span>
<span class="token comment">// 3</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;-3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 두 수 중 최소값</span>
<span class="token comment">// 3</span>
a<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 두 수 중 최대값</span>
<span class="token comment">// 10</span>
a<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="bigdecimal-소수점-처리"><a href="#bigdecimal-소수점-처리" class="header-anchor">#</a> BigDecimal 소수점 처리</h4> <ul><li>RoundingMode.HALF_EVEN은 Java의 기본 반올림 정책으로 금융권에서 사용하는 Bankers Rounding와 동일한 알고리즘이다. 금융권에서는 시스템 개발시 혼란을 막기 위해 요구사항에 반올림 정책을 명확히 명시하여 개발한다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 소수점 이하를 절사한다.</span>
<span class="token comment">// 1</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1.1234567890&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>FLOOR<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 소수점 이하를 절사하고 1을 증가시킨다.</span>
<span class="token comment">// 2</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1.1234567890&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>CEILING<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 음수에서는 소수점 이하만 절사한다.</span>
<span class="token comment">// -1</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;-1.1234567890&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>CEILING<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 소수점 자리수에서 오른쪽의 0 부분을 제거한 값을 반환한다.</span>
<span class="token comment">// 0.9999</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.99990&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stripTrailingZeros</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 소수점 자리수를 재정의한다.</span>
<span class="token comment">// 원래 소수점 자리수보다 작은 자리수의 소수점을 설정하면 예외가 발생한다.</span>
<span class="token comment">// java.lang.ArithmeticException: Rounding necessary</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 반올림 정책을 명시하면 예외가 발생하지 않는다.</span>
<span class="token comment">// 0.123</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 소수점을 남기지 않고 반올림한다.</span>
<span class="token comment">// 0</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.9876&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="bigdecimal-나누기-처리"><a href="#bigdecimal-나누기-처리" class="header-anchor">#</a> BigDecimal 나누기 처리</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> b10 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 나누기 결과가 무한으로 떨어지면 예외 발생</span>
<span class="token comment">// java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 반올림 정책을 명시하면 예외가 발생하지 않음</span>
<span class="token comment">// 3</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 반올림 자리값을 명시</span>
<span class="token comment">// 3.333333</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3.333333333</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 전체 자리수를 7개로 제한하고 HALF_EVEN 반올림을 적용한다.</span>
<span class="token comment">// 3.333333</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token class-name">MathContext</span><span class="token punctuation">.</span>DECIMAL32<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 전체 자리수를 16개로 제한하고 HALF_EVEN 반올림을 적용한다.</span>
<span class="token comment">// 3.333333333333333</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token class-name">MathContext</span><span class="token punctuation">.</span>DECIMAL64<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 전체 자리수를 34개로 제한하고 HALF_EVEN 반올림을 적용한다.</span>
<span class="token comment">// 3.333333333333333333333333333333333</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token class-name">MathContext</span><span class="token punctuation">.</span>DECIMAL128<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 전체 자리수를 제한하지 않는다.</span>
<span class="token comment">// java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result. 예외가 발생한다.</span>
b10<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b3<span class="token punctuation">,</span> <span class="token class-name">MathContext</span><span class="token punctuation">.</span>UNLIMITED<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="bigdecimal-문자열-변환-출력"><a href="#bigdecimal-문자열-변환-출력" class="header-anchor">#</a> BigDecimal 문자열 변환 출력</h4> <ul><li>.setScale()을 사용하여 소수점 자리수를 제한하면 원본의 소수점 값은 상실해 버린다. 문자열로 출력하는 것이 목적이라면 NumberFormat 클래스를 사용하는 것이 적합하다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">NumberFormat</span> format <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
format<span class="token punctuation">.</span><span class="token function">setMaximumFractionDigits</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
format<span class="token punctuation">.</span><span class="token function">setRoundingMode</span><span class="token punctuation">(</span><span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_EVEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0.123457</span>
format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.1234567890&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="mysql과-bigdecimal"><a href="#mysql과-bigdecimal" class="header-anchor">#</a> MySQL과 BigDecimal</h4> <ul><li>MySQL 또한 Java와 동일한 문제를 가지고 있다. FLOAT, DOUBLE 타입에 소수를 가진 수를 저장할 경우 앞서와 동일한 연산의 정확도 문제가 발생한다. 이를 해결하기 위해 DECIMAL 타입을 제공한다.</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>foo <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">0.00</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
</code></pre></div><ul><li>DECIMAL 타입 선언시 괄호 안의 숫자의 의미는 PRECISION, SCALE을 의미한다. (5,2)의 경우 전체 자리수는 5, 소수점 이하 자리수는 2로 선언하겠다는 의미이다. 기본으로 (10,0)이 적용된다.
PRECISION의 최대값은 65로 산업 표준인 DECIMAL128을 충분히 수용할 수 있다. SCALE의 최대값은 30으로 PRECISION보다 클 수 없다.</li> <li>만약, 지정된 소수 자리수보다 많은 값을 저장할 경우, 지정된 소수 자리수 이하는 절사(floor)된다.</li></ul> <h4 id="jpa에서의-bigdecimal-처리"><a href="#jpa에서의-bigdecimal-처리" class="header-anchor">#</a> JPA에서의 BigDecimal 처리</h4> <ul><li>JDBC에서 MySQL/MariaDB의 DECIMAL 타입은 ResultSet 인터페이스의 getBigDecimal(), getString() 2개 메서드로 획득이 가능하다. JPAㄷ 또한 별도의 작업 없이 엔티티 필드에 BigDecimal 타입을 사용하여 처리하면 된다.</li> <li>만약, 데이터베이스 저장시 소수점 이하 자리수와 반올림 방법을 자동으로 처리되게 하고 싶다면 JPA가 제공하는 커스텀 컨버터를 제작하면 된다.</li></ul> <h4 id="bigdecimal과-java-stream"><a href="#bigdecimal과-java-stream" class="header-anchor">#</a> BigDecimal과 Java Stream</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// POJO 목록에서 BigDecimal 타입을 가진 특정 필드의 합을 반환</span>
<span class="token class-name">BigDecimal</span> sumOfFoo <span class="token operator">=</span> fooList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">FooEntity</span><span class="token operator">::</span><span class="token function">getFooBigDecimal</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>foo <span class="token operator">-&gt;</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">nonNull</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 특정 BigDecimal 필드를 기준으로 오름차순 정렬된 리스트를 반환</span>
foolist<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span>it <span class="token operator">-&gt;</span> it<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 위와 동일한 기능, 정렬된 새로운 리스트를 반환하지 않고 원본 리스트를 바로 정렬</span>
foolist<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span>it <span class="token operator">-&gt;</span> it<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>https://jsonobject.tistory.com/466</p> <br> <h2 id="_1104-정적-팩토리-메서드-static-factory-method"><a href="#_1104-정적-팩토리-메서드-static-factory-method" class="header-anchor">#</a> 1104 - 정적 팩토리 메서드(static factory method)</h2> <h3 id="개요"><a href="#개요" class="header-anchor">#</a> 개요</h3> <p>객체 생성을 캡슐화하는 기법이다.<br>
좀 더 구체적으로는 객체를 생성하는 메소드를 만들고, <code>static</code>으로 선언하는 기법이다.<br>
자바로 코딩할 때 흔하게 볼 수 있는 <code>valueOf</code> 메서드가 정적 팩토리 메서드의 한 예라 할 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigInteger</span> answer <span class="token operator">=</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">42L</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// BigInteger 42를 리턴한다</span>
</code></pre></div><p>static으로 선언된 메서드이며, new BigInteger(...)를 은닉하고 있다는 사실을 알 수 있다.<br>
valueOf 외에, 정적 팩토리 메서드의 이름으로 흔히 사용되는 것들은 다음과 같다.</p> <ul><li>valueOf</li> <li>of</li> <li>getInstance</li> <li>newInstance</li> <li>getType</li> <li>newType</li></ul> <h3 id="effective-java"><a href="#effective-java" class="header-anchor">#</a> Effective Java</h3> <blockquote><p>이펙티브 자아 2판은 &quot;규칠 1&quot;에서 이 기법을 소개하고 있다.<br>
규칙 1. 생성자 대신 정적 팩터리 메서드를 사용할 수 없는지 생각해보라.</p></blockquote> <ul><li>단, GoF의 디자인 패턴 책에 나오는 팩토리 메서드 패턴과는 다른 패턴이다. 이름만 비슷하다.</li> <li>Effective Java 저자 조슈야 블로흐도 GoF의 디자인 패턴 책에 나온 어떤 패턴과도 맞아 떨어지지 않는다며 주의하라고 말함.</li></ul> <p>Effective Java에서는 다음과 같은 장단점을 설명한다.</p> <ul><li>장점
<ol><li>이름이 있으므로 생성자에 비해 가독성이 좋다.</li> <li>호출할 때마다 새로운 객체를 생성할 필요가 없다.</li> <li>하위 자료형 객체를 반환할 수 있다.</li> <li>형인자 자료형(parameterized type) 객체를 만들 때 편하다.</li></ol></li> <li>단점
<ol><li>정적 팩토리 메서드만 있는 클래스라면, 생성자가 없으므로 하위 클래스를 못 만든다.</li> <li>정적 팩토리 메서드는 다른 정적 메서드와 잘 구분되지 않는다.(문서만으로 확인하기 어려울 수 있음)</li></ol></li></ul> <h3 id="정적-팩토리-메서드-특징"><a href="#정적-팩토리-메서드-특징" class="header-anchor">#</a> 정적 팩토리 메서드 특징</h3> <ul><li>가독성이 좋다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Character</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> intelligence<span class="token punctuation">,</span> strength<span class="token punctuation">,</span> hitPoint<span class="token punctuation">,</span> magicPoint<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Character</span><span class="token punctuation">(</span><span class="token keyword">int</span> intelligence<span class="token punctuation">,</span> <span class="token keyword">int</span> strength<span class="token punctuation">,</span> <span class="token keyword">int</span> hitPoint<span class="token punctuation">,</span> <span class="token keyword">int</span> magicPoint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>intelligence <span class="token operator">=</span> intelligence<span class="token punctuation">;</span>   <span class="token comment">// 지능</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>strength <span class="token operator">=</span> strength<span class="token punctuation">;</span>           <span class="token comment">// 힘</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>hitPoint <span class="token operator">=</span> hitPoint<span class="token punctuation">;</span>           <span class="token comment">// HP</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>magicPoint <span class="token operator">=</span> magicPoint<span class="token punctuation">;</span>       <span class="token comment">// MP</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 정적 팩토리 메소드</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Character</span> <span class="token function">newWarrior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Character</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 전사는 힘과 HP가 높다</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 정적 팩토리 메소드</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Character</span> <span class="token function">newMage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Character</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 마법사는 지능과 MP가 높다</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 정적 팩토리 메서드</span>
<span class="token class-name">Character</span> warrior <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">newWarrior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Character</span> mage <span class="token operator">=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">newMage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 생성자</span>
<span class="token class-name">Character</span> warrior <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Character</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Character</span> mage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Character</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>호출할 때마다 새로운 객체를 생성할 필요가 없다.<br>
사실 위와 같이 마법사와 전사를 만드는 코드는 정적 메서드를 호출할 때마다 new Character(...)를 호출하게 된다.<br>
그러나 immutable 객체를 캐시해서 쓰고 있다면 굳이 일일이 new 같은 비싼 연산을 사용할 필요가 없다.<br> <code>java.math.BigInteger.valueOf</code> 예제</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">BigInteger</span> ZERO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> MAX_CONSTANT <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">BigInteger</span> posConst<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">[</span>MAX_CONSTANT<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">BigInteger</span> negConst<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">[</span>MAX_CONSTANT<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">/* posConst에 1 ~ 16까지의 BigInteger 값을 담는다. */</span>
    <span class="token comment">/* negConst에 -1 ~ -16까지의 BigInteger 값을 담는다. */</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BigInteger</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">long</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 미리 만들어둔 객체를 리턴한다</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> ZERO<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;=</span> MAX_CONSTANT<span class="token punctuation">)</span>
        <span class="token keyword">return</span> posConst<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> val<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token generics"><span class="token punctuation">&lt;</span> 0 <span class="token operator">&amp;</span><span class="token operator">&amp;</span> val <span class="token punctuation">&gt;</span></span><span class="token operator">=</span> <span class="token operator">-</span>MAX_CONSTANT<span class="token punctuation">)</span>
        <span class="token keyword">return</span> negConst<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">-</span>val<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 새로운 객체를 만들어 리턴한다</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>하위 자료형 객체를 반환할 수 있다.
리턴하는 객체의 타입을 유연하게 지정할 수 있다.<br>
다음은 어느 가상의 인터넷 쇼핑몰에서 할인 코드를 처리하는 정적 팩토리 메서드이다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">OrderUtil</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Discount</span> <span class="token function">createDiscountItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> discountCode<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isValidCode</span><span class="token punctuation">(</span>discountCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">&quot;잘못된 할인 코드&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 쿠폰 코드인가? 포인트 코드인가?</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isUsableCoupon</span><span class="token punctuation">(</span>discountCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Coupon</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isUsablePoint</span><span class="token punctuation">(</span>discountCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">&quot;이미 사용한 코드&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Coupon</span> <span class="token keyword">extends</span> <span class="token class-name">Discount</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token keyword">extends</span> <span class="token class-name">Discount</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>할인 코드의 규칙에 따란 Coupon과 point 객체를 선택적으로 리턴하고 있다.<br>
이를 위해서는 두 하위 클래스가 같은 인터페이스를 구현하거나, 같은 부모 클래스를 갖도록 하면 된다. 만약 파일을 분리하기 애매한 작은 클래스가 있다면 private class를 활용할 수도 있다.</p> <p>다음은 <code>java.util.Collections</code>에서 EMPTY_MAP부분을 발췌한 것</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;rawtypes&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span> EMPTY_MAP <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmptyMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Returns an empty map (immutable).  This map is serializable.
 */</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">emptyMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> EMPTY_MAP<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EmptyMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 생략 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>EmptyMap 클래스는 java.util.Collections 내에 private static으로 선언되었으며, emptyMap이라는 정적 팩토리 메서드를 통해 캐스팅된 인스턴스를 얻을 수 있다.</p> <ul><li>형인자 자료형 객체를 만들 때 편리하다
Java 1.7이전에는 다음과 같이 형인자 자료형 객체를 만들어야 했다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 정적 팩토리 메서드: type inference를 이용한다</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 위의 정적 팩토리 메서드를 사용한다</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">HashMap</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Java 1.7 이후</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Java 1.7부터 형인자 없이 생성이 가능하게 되어서, 의미를 거의 잃었다.</p> <ul><li>Lombok RequiredArgsConstructor.staticName의 사용
Lombok의 <code>RequiredArgsConstructor</code>를 사용하면 정적 팩토리 메소드를 쉽게 만들 수 있다.</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">RequiredArgsConstructor</span><span class="token punctuation">;</span>

<span class="token comment">//                                      ↓ 정적 팩토리 메소드 이름</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token punctuation">(</span>staticName <span class="token operator">=</span> <span class="token string">&quot;of&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlogUser</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">BlogUser</span> user <span class="token operator">=</span> <span class="token class-name">BlogUser</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span> <span class="token string">&quot;JohnGrib&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>위와 같이 staticName을 선언하면 롬복이 of라는 이름을 가진 정적 팩토리 메소드를 만들어준다.</p> <br> <h2 id="_1105-fixture와-mock"><a href="#_1105-fixture와-mock" class="header-anchor">#</a> 1105 - Fixture와 Mock</h2> <h3 id="test-fixture"><a href="#test-fixture" class="header-anchor">#</a> Test Fixture</h3> <blockquote><p>Fixture는 '고정되어 있는 물체'를 의미</p></blockquote> <h4 id="junit-팀에서-말하는-테스트-픽스처란"><a href="#junit-팀에서-말하는-테스트-픽스처란" class="header-anchor">#</a> Junit 팀에서 말하는 테스트 픽스처란?</h4> <p>의역하자면, 테스트 실행을 위해 베이스라인으로서 사용되는 객체들의 고정된 상태이다. 테스트 픽스처의 목적은 결과를 반복가능 할 수 있도록 알 수 있고, 고정된 환경에서 테스트할 수 있음을 보장하기 위함이다.</p> <h4 id="예시"><a href="#예시" class="header-anchor">#</a> 예시</h4> <ul><li>목 또는 가짜 객체의 세팅이나 생성 그리고 삽입할 데이터의 준비</li> <li>구체적이며 알고있는 데이터를 지닌 데이터베이스 로딩</li> <li>테스트 픽스처를 만들어내는 특정 파일들을 복사하면 특정 상태로 초기화된 객체들이 생성됨.</li></ul> <p>Junit은 테스트 클래스들이 매번 테스트 실행 전/후 아니면 한번만 픽스처를 가질 수 있도록 애노테이션으로 제공한다.(Junit4이 제공하는 4가지 픽스처 애노테이션: @Before, @BeforeClass, @After, @AfterClass)</p> <h3 id="mock-mocking"><a href="#mock-mocking" class="header-anchor">#</a> Mock, Mocking</h3> <blockquote><p>주로 객체 지향 프로그래밍으로 개발한 프로그램을 테스트 할 경우 테스트를 수행할 모듈과 연결되는 외부의 다른 서비스나 모듈들을 실제 사용하는 모듈을 사용하지 않고 실제의 모듈을 &quot;흉내&quot;내는 &quot;가짜&quot;모듈을 작성하여 테스트의 효용성을 높이는데 사용하는 객체이다. 사용자 인터페이스(UI)나 데이터베이스 테스트 등과 같이 자동화된 테스트를 수행하기 어려울 때 널리 사용된다.</p></blockquote> <h4 id="mocking"><a href="#mocking" class="header-anchor">#</a> Mocking</h4> <p>Mocking은 유닛 테스트에서 주로 사용된다.</p> <p>테스트 하는 객체는 보통 다른 객체들과 의존성을 가지고 있다. 원하는 객체의 행동을 고립시키기 위해(의존성 없이) 다른 객체들을 실제 객체의 행동을 시뮬레이션하는 mock으로 대체 시켜야한다.</p> <p>이는 실제 객체를 단위 테스트에 통합하기에 실용적이지 않을 때 유용하다</p> <p>간략히 말해, Mocking이란 실제 객체들의 행동을 시뮬레이션하는 객체들을 만드는 것이다.</p> <br> <h2 id="_1106-rest-assured"><a href="#_1106-rest-assured" class="header-anchor">#</a> 1106 - REST Assured</h2> <p>Java 클래스의 동작을 확인하는 Unit 테스트 수행은, 테스트 전략의 첫 단계이다.<br>
개별 Java클래스가 독릭접으로 잘 작동한다고 해서 모든 클래스가 함께 묶일 때 어플리케이션 자체가 올바르게 작동한다는 것은 아니다.</p> <p>기본 단위테스트 외에도 통합테스트(모듈에 초점을 맞춘 테스트), 기능 테스트(배포된대로 어플리케이션을 사용하는 end-to-end 테스트), 사용자 승인 테스트(GUI 테스트)가 있다.</p> <h3 id="rest-assured란"><a href="#rest-assured란" class="header-anchor">#</a> REST Assured란?</h3> <p>REST Assured는 REST 웹 서비스를 검증하기 위한 Java 라이브러리<br>
HTTP endpoint에 대한 연결 및 예상되는 결과를 설명하는 친숙한 DSL(Domain Specific Languages)을 제공한다.</p> <ul><li>예제</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>restassured<span class="token punctuation">.</span></span><span class="token class-name">RestAssured</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SampleTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestAssured</span><span class="token punctuation">.</span><span class="token function">given</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.google.com&quot;</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">statusCode</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>given-when-then 패턴을 이용한 코드를 작성
<ul><li>given : Test setup(테스트시 필요한 데이터, 및 파라미터를 셋팅)</li> <li>when : Test action(Method type을 정의)</li> <li>then : Test verification(Response Data를 검증)</li></ul></li></ul> <h3 id="rest-assured-사용"><a href="#rest-assured-사용" class="header-anchor">#</a> REST Assured 사용</h3> <h4 id="설정"><a href="#설정" class="header-anchor">#</a> 설정</h4> <ul><li>gradle</li></ul> <div class="language-yml extra-class"><pre class="language-yml"><code>dependencies <span class="token punctuation">{</span>
    <span class="token punctuation">...</span>
    testImplementation 'io.rest<span class="token punctuation">-</span>assured<span class="token punctuation">:</span>rest<span class="token punctuation">-</span>assured<span class="token punctuation">:</span>4.4.0'
    testImplementation 'io.rest<span class="token punctuation">-</span>assured<span class="token punctuation">:</span>json<span class="token punctuation">-</span>schema<span class="token punctuation">-</span>validator<span class="token punctuation">:</span>4.4.0'
    <span class="token punctuation">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="사용법"><a href="#사용법" class="header-anchor">#</a> 사용법</h4> <ul><li>Parameters</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">given</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">param</span><span class="token punctuation">(</span><span class="token string">&quot;param1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">param</span><span class="token punctuation">(</span><span class="token string">&quot;param2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
<span class="token comment">// given().param(&quot;myList&quot;, &quot;value1&quot;, &quot;value2&quot;);</span>

<span class="token comment">// List&lt;String&gt; values = new ArrayList&lt;String&gt;();</span>
<span class="token comment">// values.add(&quot;value1&quot;);</span>
<span class="token comment">// values.add(&quot;value2&quot;);</span>
<span class="token comment">// given().param(&quot;myList&quot;, values)</span>
</code></pre></div><p>REST Assured는 HTTP method에 기반하여 parameter type을 자동으로 결정, GET =&gt; query parameters / POST =&gt; form parameters</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">given</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">formParam</span><span class="token punctuation">(</span><span class="token string">&quot;formParamName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">queryParam</span><span class="token punctuation">(</span><span class="token string">&quot;q0-998ueryParamName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
       <span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>하지만, PUT, POST type에서 query parameter와 form parameter를 함께 사용할 때는 정확하게 명시해야한다.</p> <ul><li>path parameter</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/reserve/{hotelId}/{roomNumber}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;My Hotel&quot;</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="response-json의-assersion-정의"><a href="#response-json의-assersion-정의" class="header-anchor">#</a> Response JSON의 Assersion 정의</h4> <ol><li>then().assertThat()</li> <li>Response Message에서 Assert 구문을 이용하는 방법</li></ol> <ul><li>Response Data 검증
<ul><li>equalTo : then().assertThat().body(equalTo(&quot;something&quot;))</li> <li>hasItems : then(). assertThat().body(&quot;lotto.winners.winnerId&quot;, hasItems(23, 54));</li> <li>startsWith, endsWithPath : body(&quot;href&quot;, and(startsWith(&quot;http:/localhost:8080/&quot;), endsWithPath(&quot;userId&quot;)));</li> <li>time : when(). get(&quot;/&quot;). then(). time(lessThan(2000L)); // Milliseconds</li> <li>size : then().assertThat().body(&quot;size()&quot;, equalTo(10))</li> <li>contain : then().assertThat(). body(containsString(&quot;some&quot;))</li></ul></li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">September 13, 2022 21:44</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: jaesungahn91@gmail.com" class="contributor">
          ahnjs
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/TIL/2021/1018/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        1018 - 1024
      </a></span> <span class="next"><a href="/TIL/2021/1108/">
        1108 - 1114
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/TIL/assets/js/app.5fb46d7a.js" defer></script><script src="/TIL/assets/js/vendors~layout-Layout.1c8ba735.js" defer></script><script src="/TIL/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.2212e50f.js" defer></script><script src="/TIL/assets/js/page-1101-1107.e08121f1.js" defer></script><script src="/TIL/assets/js/vendors~layout-Blog~layout-Layout.e5523903.js" defer></script>
  </body>
</html>
